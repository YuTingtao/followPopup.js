/*
 * followPopup v1.0.0
 * author 735126858@qq.com
 * https://github.com/YuTingtao/followPopup.js
 */
!function(o){"function"==typeof define&&define.amd?define(["jquery"],o):"undefined"!=typeof exports?module.exports=o(require("jquery")):o(jQuery)}(function(u){var e=function(o,t){this.el=o,this.defaults={html:"",fade:!1,x:20,y:20,zIndex:999,throttleTime:40,afterEnter:function(){},onMove:function(){},beforeOut:function(){}},this.opt=u.extend({},this.defaults,t),this.init()};e.prototype={appendDOM:function(){var o=this.opt.zIndex;u(".js-followPopup").length<1&&u("body").append('<div class="js-followPopup" style="display: none; position: fixed; top: 100%; z-index: '+o+'"></div>')},mouseEnter:function(){var o=this,t=this.opt.html,e=this.opt.fade;o.el.mouseenter(function(){u(".js-followPopup").html(t),e?u(".js-followPopup").fadeIn(e):u(".js-followPopup").show(),o.opt.afterEnter&&o.opt.afterEnter.call(this,o.el)})},mouseMove:function(){var n=this,s=(this.opt.html,this.opt.speed,this.opt.x),l=this.opt.y,p=this.opt.throttleTime;n.el.mousemove(function(o){o=o||window.e;var t=parseInt(o.clientX),e=parseInt(o.clientY),i=null;i||(setTimeout(function(){t+s+u(".js-followPopup").width()<u(window).width()?u(".js-followPopup").css({left:t+s,right:"auto"}):u(".js-followPopup").css({left:"auto",right:u(window).width()-t+s-10}),e+l+u(".js-followPopup").height()<u(window).height()?u(".js-followPopup").css({top:e+l,bottom:"auto"}):u(".js-followPopup").css({top:"auto",bottom:u(window).height()-e+l-20})},p),i=null),n.opt.onMove&&n.opt.onMove.call(this,n.el)})},mouseOut:function(o){var t=this;t.el.mouseleave(function(o){u(".js-followPopup").hide(),t.opt.beforeOut&&t.opt.beforeOut.call(this,t.el)})},init:function(){this.appendDOM(),this.mouseEnter(),this.mouseMove(),this.mouseOut()}},u.fn.followPopup=function(t){this.each(function(){var o=u(this);return new e(o,t)})}});
